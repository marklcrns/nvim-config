# why use yaml to manage plugins
# see http://genkisugimoto.com/blog/manage-vim-plugins-via-yaml/
# hook_add:         executed after the line is parsed
# hook_source:      executed before each plugin is sourced
# hook_post_source: executed after each plugin is sourced
# hook_post_update: executed after each plugin is updated
# hook_done_update: executed after all plugins are updated

# Normal Loaded Plugins
# ==========================================

# Startup {{{
- repo: Shougo/dein.vim

- repo: glepnir/dashboard-nvim
  hook_source: luafile $VIM_PATH/config/plugins/dashboard.lua

# Completion
# ----------------------------------------
- repo: liuchengxu/vim-which-key
  hook_source: source $VIM_PATH/config/plugins/whichkey.vim

- repo: nvim-treesitter/nvim-treesitter
  if: "has('nvim-0.7')"
  build: TSUpdate
  hook_source: luafile $VIM_PATH/config/plugins/nvim-treesitter.lua

- repo: nvim-treesitter/nvim-treesitter-textobjects
  if: "has('nvim-0.7')"

- repo: neovim/nvim-lspconfig
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/nvim-lspconfig.lua

- repo: ray-x/lsp_signature.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/lsp_signature.lua

- repo: williamboman/mason.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/mason.lua

- repo: williamboman/mason-lspconfig.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/mason-lspconfig.lua

- repo: jayp0521/mason-null-ls.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/mason-null-ls.lua
  depends: [ 'mason.nvim', 'null-ls.nvim' ]

- repo: glepnir/lspsaga.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/lspsaga.lua

- repo: simrat39/symbols-outline.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/symbols-outline.lua

- repo: hrsh7th/nvim-cmp
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/nvim-cmp.lua

# - repo: github/copilot.vim
#
# - repo: zbirenbaum/copilot.lua
#   on_event: VimEnter
#   hook_source: luafile $VIM_PATH/config/plugins/copilot.lua
#
# - repo: zbirenbaum/copilot-cmp
#   depends: [ 'copilot.lua', 'nvim-cmp' ]
#   hook_source: luafile $VIM_PATH/config/plugins/copilot-cmp.lua

- repo: hrsh7th/cmp-nvim-lua
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: hrsh7th/cmp-nvim-lsp
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: hrsh7th/cmp-path
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: hrsh7th/cmp-buffer
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: hrsh7th/cmp-cmdline
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: tzachar/cmp-tabnine
  if: "has('nvim-0.7')"
  depends: nvim-cmp
  build: "./install.sh"
  hook_source: luafile $VIM_PATH/config/plugins/cmp-tabnine.lua

- repo: hrsh7th/cmp-emoji
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: f3fora/cmp-spell
  if: "has('nvim-0.7')"
  depends: nvim-cmp

- repo: petertriho/cmp-git
  if: "has('nvim-0.7')"
  depends: nvim-cmp
  hook_source: luafile $VIM_PATH/config/plugins/cmp-git.lua

- repo: davidsierradz/cmp-conventionalcommits
  if: "has('nvim-0.7')"
  depends: nvim-cmp
  hook_source: luafile $VIM_PATH/config/plugins/cmp-conventionalcommits.lua

- repo: quangnguyen30192/cmp-nvim-ultisnips
  if: "has('nvim-0.7')"
  depends: [ultisnips, nvim-cmp]
  hook_source: luafile $VIM_PATH/config/plugins/cmp-nvim-ultisnips.lua

- repo: sedm0784/vim-you-autocorrect
  hook_source: source $VIM_PATH/config/plugins/vim-you-autocorrect.vim

- repo: jose-elias-alvarez/null-ls.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/null-ls.lua

# Tools
# ----------------------------------------
- repo: marklcrns/vim-smartq

- repo: akinsho/toggleterm.nvim
  hook_source: luafile $VIM_PATH/config/plugins/toggleterm.lua

- repo: christoomey/vim-tmux-navigator
  if: "! (has('win32') || has('win64'))"
  hook_add: |
    let g:tmux_navigator_disable_when_zoomed = 1
    let g:tmux_navigator_no_mappings = 1

- repo: tpope/vim-eunuch
- repo: Shougo/context_filetype.vim
- repo: skywind3000/asyncrun.vim

- repo: sgur/vim-editorconfig
  hook_add: source $VIM_PATH/config/plugins/vim-editorconfig.vim

- repo: folke/todo-comments.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/todo-comments.lua

# Window management
- repo: beauwilliams/focus.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/focus.lua

- repo: blueyed/vim-diminactive
  hook_source: source $VIM_PATH/config/plugins/vim-diminactive.vim

- repo: sindrets/winshift.nvim
  if: "has('nvim-0.5')"

# Improve CursorHold performance: https://github.com/neovim/neovim/issues/12587
- repo: antoinemadec/FixCursorHold.nvim
  if: "has('nvim')"

# Vim8 only:
- repo: roxma/nvim-yarp
  if: "!has('nvim')"
  depends: vim-hug-neovim-rpc

- repo: roxma/vim-hug-neovim-rpc
  if: "!has('nvim')"
# }}}

# Lazy Loading
# ==========================================

# Completion{{{
- repo: SirVer/ultisnips
  if: has('python3')
  hook_add: source $VIM_PATH/config/plugins/ultisnips.vim

- repo: honza/vim-snippets
  if: has('python3')
  depends: ultisnips
  merged: 0

- repo: mlaursen/vim-react-snippets
  if: has('python3')
  depends: ultisnips

# Syntax{{{

# Coding tools
# ----------------------------------------
- repo: junegunn/vim-easy-align
  hook_add: source $VIM_PATH/config/plugins/vim-easy-align.vim

- repo: AndrewRadev/sideways.vim
- repo: AndrewRadev/splitjoin.vim

- repo: kana/vim-niceblock
  on_map: { x: <Plug> }
  hook_add: |
    let g:niceblock_no_default_key_mappings = 0

- repo: danymat/neogen
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/neogen.lua

- repo: monaqa/dial.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/dial.lua

# Folds
- repo: kevinhwang91/promise-async
- repo: kevinhwang91/nvim-ufo
  depends: [nvim-treesitter, promise-async]
  hook_source: luafile $VIM_PATH/config/plugins/nvim-ufo.lua

# Commenter
- repo: numToStr/Comment.nvim
  if: "has('nvim')"
  hook_source: luafile $VIM_PATH/config/plugins/Comment.lua

# Surround
- repo: kylechui/nvim-surround
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/nvim-surround.lua

# Delimiter
- repo: windwp/nvim-autopairs
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/nvim-autopairs.lua

- repo: windwp/nvim-ts-autotag
  if: "has('nvim-0.5')"
  depends: nvim-treesitter
  hook_source: luafile $VIM_PATH/config/plugins/nvim-ts-autotag.lua

- repo: RRethy/nvim-treesitter-endwise
  if: "has('nvim-0.5')"
  depends: nvim-treesitter
  hook_source: luafile $VIM_PATH/config/plugins/nvim-treesitter-endwise.lua

# Titlecase
- repo: johmsalas/text-case.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/text-case.lua

- repo: rest-nvim/rest.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/rest.lua

# Git{{{
- repo: lambdalisue/gina.vim
  on_cmd: Gina
  on_ft: [gitcommit, gitrebase]
  hook_source: source $VIM_PATH/config/plugins/gina.vim

- repo: TimUntersberger/neogit
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/neogit.lua

- repo: rhysd/committia.vim
  hook_source: source $VIM_PATH/config/plugins/committia.vim

- repo: lewis6991/gitsigns.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/gitsigns.lua
# }}}

- repo: tyru/open-browser.vim
  hook_source: |
    let g:netrw_nogx = 1
    command! -nargs=1 Browse OpenBrowser <args>
# }}}
# Languages {{{

# Markdown
# ---------------------------------------
- repo: preservim/vim-markdown
  on_ft: [markdown, pandoc.markdown, rmd]
  hook_add: source $VIM_PATH/config/plugins/vim-markdown.vim

- repo: iamcco/markdown-preview.nvim
  if: "has('nvim') && executable('yarn')"
  on_ft: [markdown, pandoc.markdown, rmd]
  build: 'sh -c "cd app && yarn install"'
  hook_add: source $VIM_PATH/config/plugins/markdown-preview.vim

- repo: mzlogin/vim-markdown-toc
  hook_add: source $VIM_PATH/config/plugins/vim-markdown-toc.vim
  on_ft: [markdown, pandoc.markdown, rmd]

# LaTeX
# ----------------------------------------
- repo: lervag/vimtex
  on_ft: [plaintex, tex, latex, markdown]
  hook_source: source $VIM_PATH/config/plugins/vimtex.vim
# }}}

# Tools{{{
- { repo: romainl/vim-cool }

# To setup Google Calendar with calenar.vim
# https://github.com/itchyny/calendar.vim#important-notice
- repo: itchyny/calendar.vim
  on_cmd: Calendar
  hook_source: source $VIM_PATH/config/plugins/calendar.vim

- repo: junegunn/goyo.vim
  depends: Limelight.vim
  on_cmd: Goyo
  hook_source: source $VIM_PATH/config/plugins/goyo.vim

- repo: folke/zen-mode.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/zen-mode.lua

- repo: junegunn/Limelight.vim
  on_cmd: Limelight
  hook_source: source $VIM_PATH/config/plugins/limelight.vim

- repo: junegunn/fzf
  build: "cd ~/.fzf && ./install --all"
  merged: 0
  on_cmd: FZF
  type__depth: 1
  hook_source: |
    let g:fzf_layout = { 'down': '~25%' }

- repo: junegunn/fzf.vim
  depends: fzf
  merged: 0
  on_cmd: [Files, GitFiles, Buffers, Lines, Locate, Colors, Ag, Rg, Tags]
  on_func: [fzf#vim#with_preview, fzf#run, vista#finder#fzf#Run]

- repo: ludovicchabant/vim-gutentags
  if: "executable('ctags')"
  hook_source: source $VIM_PATH/config/plugins/vim-gutentags.vim

- repo: liuchengxu/vista.vim
  if: "executable('ctags')"
  on_cmd: Vista
  hook_source: source $VIM_PATH/config/plugins/vista.vim

- repo: benmills/vimux
  on_cmd: [VimuxPromptCommand, VimuxOpenRunner]

- repo: nvim-neorg/neorg
  on_ft: 'norg'
  if: "has('nvim-0.5')"
  build: "Neorg sync-parsers"
  depends: [plenary.nvim, nvim-treesitter, neorg-telescope, telescope.nvim]
  hook_source: luafile $VIM_PATH/config/plugins/neorg.lua

- repo: nvim-neorg/neorg-telescope
  on_ft: 'norg'
  depends: [neorg, telescope.nvim]
  hook_source: luafile $VIM_PATH/config/plugins/neorg.lua

# Only load when in wiki directory
- repo: vimwiki/vimwiki
  on_if: "(getcwd() =~ $HOME . '/Documents/my-wiki.*' && &filetype == 'markdown')"
  on_cmd: [VimwikIndex, VimwikiDiaryIndex, VimwikiUISelect]
  hook_source: source $VIM_PATH/config/plugins/vimwiki.vim
  # rev: 4d7a4da2e8e2fff34126e32d8818ba93c66a8a75

# Only load when in wiki diary sub directory
- repo: tbabej/taskwiki
  if: has('python3')
  on_if: "(expand('%:p') =~ $HOME . '/Documents/my-wiki/task/md/diary/.*' && &filetype == 'vimwiki')"
  depends: vimwiki
  hook_source: source $VIM_PATH/config/plugins/taskwiki.vim
  # rev: 925d8ed2f522229d32d4cc39486080c244d20f7a

- repo: oberblastmeister/neuron.nvim
  rev: unstable
  if: "executable('neuron')"
  hook_source: luafile $VIM_PATH/config/plugins/neuron.lua

# - repo: pyrho/nerveux.nvim
#   hook_source: luafile $VIM_PATH/config/plugins/nerveux.lua

- repo: honza/dockerfile.vim
  on_ft: Dockerfile

- repo: thinca/vim-quickrun
  on_cmd: QuickRun
  hook_add: source $VIM_PATH/config/plugins/vim-quickrun.vim

- repo: michaelb/sniprun
  on_cmd: [SnipRun, SnipLive, SnipInfo]
  build: 'sh -c "install.sh"'
  hook_source: source $VIM_PATH/config/plugins/sniprun.lua

- repo: kshenoy/vim-signature
  hook_add: source $VIM_PATH/config/plugins/vim-signature.vim

- repo: tpope/vim-abolish

- repo: simnalamburt/vim-mundo
  on_map: { n: <Plug> }

- repo: tpope/vim-repeat
  on_map: .*

- repo: max397574/better-escape.nvim
  if: "has('nvim')"
  hook_source: luafile $VIM_PATH/config/plugins/better-escape.lua

- repo: ggandor/leap.nvim
  if: "has('nvim-0.7')"
  hook_source: luafile $VIM_PATH/config/plugins/leap.lua

- repo: brooth/far.vim
  on_cmd: [F, Far, Farr, Farf, Refar, Farundo]
  hook_add: source $VIM_PATH/config/plugins/far.vim

- repo: pechorin/any-jump.vim
  on_cmd: AnyJump
  hook_source: source $VIM_PATH/config/plugins/any-jump.vim
# }}}

# UI{{{
- repo: lukas-reineke/indent-blankline.nvim
  hook_source: luafile $VIM_PATH/config/plugins/indent-blankline.lua

- repo: norcalli/nvim-colorizer.lua
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/colorizer.lua

- repo: mvllow/modes.nvim
  rev: v0.2.0
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/modes.lua

- repo: romainl/vim-qf
  on_ft: qf
  on_map: { n: <Plug> }
  hook_source: source $VIM_PATH/config/plugins/vim-qf.vim

- repo: rhysd/accelerated-jk
  on_map: { n: <Plug> }

- repo: ahmedkhalf/project.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/project.lua

- repo: andymass/vim-matchup
  depends: nvim-treesitter

- repo: kyazdani42/nvim-tree.lua
  if: "has('nvim-0.5')"
  on_cmd: [NvimTreeToggle, NvimTreeOpen, NvimTreeFindFile]
  hook_source: source $VIM_PATH/config/plugins/nvim-tree.lua

- repo: kyazdani42/nvim-web-devicons
  if: "has('nvim-0.5')"

- repo: nvim-lua/popup.nvim
  if: "has('nvim-0.5')"
- repo: nvim-lua/plenary.nvim
  if: "has('nvim-0.5')"
- repo: nvim-telescope/telescope.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/telescope.lua
# }}}

# ETC {{{
- repo: dstein64/vim-startuptime

- repo: ianding1/leetcode.vim
  on_cmd: [LeetCodeList, LeetCodeTest, LeetCodeSubmit, LeetCodeSignIn]
  hook_add: |
    let g:leetcode_browser = 'firefox'
    let g:leetcode_solution_filetype = 'java'
