# why use yaml to manage plugins
# see http://genkisugimoto.com/blog/manage-vim-plugins-via-yaml/
# hook_add:         executed after the line is parsed
# hook_source:      executed before each plugin is sourced
# hook_post_source: executed after each plugin is sourced
# hook_post_update: executed after each plugin is updated
# hook_done_update: executed after all plugins are updated

# Normal Loaded Plugins
# ==========================================

# Startup {{{
- repo: Shougo/dein.vim

- repo: glepnir/dashboard-nvim
  hook_source: source $VIM_PATH/config/plugins/dashboard.vim

# Completion
# ----------------------------------------
- repo: neoclide/coc.nvim
  merged: 0
  rev: release
  hook_source: source $VIM_PATH/config/plugins/coc.vim

- repo: liuchengxu/vim-which-key
  hook_source: source $VIM_PATH/config/plugins/whichkey.vim

# Tools
# ----------------------------------------
- repo: marklcrns/vim-smartq
- repo: tpope/vim-eunuch
- repo: Shougo/context_filetype.vim
- repo: skywind3000/asyncrun.vim

- repo: dhruvasagar/vim-zoom
  hook_add: |
    let g:zoom#statustext = 'F'
- repo: szw/vim-maximizer
  hook_source: |
    let g:maximizer_set_default_mapping = 0

- repo: christoomey/vim-tmux-navigator
  if: "! (has('win32') || has('win64'))"
  hook_add: |
    let g:tmux_navigator_disable_when_zoomed = 1
    let g:tmux_navigator_no_mappings = 1

- repo: sgur/vim-editorconfig
  hook_add: source $VIM_PATH/config/plugins/vim-editorconfig.vim

- repo: dm1try/golden_size
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/golden_size.lua

- repo: camspiers/lens.vim
  hook_source: source $VIM_PATH/config/plugins/lens.vim

# Improve CursorHold performance: https://github.com/neovim/neovim/issues/12587
- repo: antoinemadec/FixCursorHold.nvim
  if: "has('nvim')"

# Vim8 only:
- repo: roxma/nvim-yarp
  if: "!has('nvim')"
  depends: vim-hug-neovim-rpc

- repo: roxma/vim-hug-neovim-rpc
  if: "!has('nvim')"
# }}}


# Lazy Loading
# ==========================================

# Completion{{{
- repo: SirVer/ultisnips
  if: has('python3')
  on_event: FileType
  hook_add: source $VIM_PATH/config/plugins/ultisnips.vim

- repo: honza/vim-snippets
  if: has('python3')
  depends: ultisnips
  on_event: FileType
  merged: 0
# }}}

# Syntax{{{

# Syntax
# ----------------------------------------
- repo: tmux-plugins/vim-tmux

# Coding tools
# ----------------------------------------
- repo: junegunn/vim-easy-align
  on_event: FileType
  hook_add: source $VIM_PATH/config/plugins/vim-easy-align.vim

- repo: AndrewRadev/sideways.vim
  on_event: FileType

- repo: AndrewRadev/splitjoin.vim
  on_event: FileType
  hook_add: |
    let g:splitjoin_split_mapping = '<C-k>'
    let g:splitjoin_join_mapping = '<C-j>'

- repo: kana/vim-niceblock
  on_map: { x: <Plug> }
  hook_add: |
    let g:niceblock_no_default_key_mappings = 0

- repo: tyru/caw.vim
  on_map: { nx: <Plug> }

- repo: machakann/vim-sandwich
  on_map: { vonx: <Plug>(operator-sandwich- }
  hook_add: source $VIM_PATH/config/plugins/vim-sandwich.vim

- repo: Raimondi/delimitMate
  on_event: FileType
  hook_source: source $VIM_PATH/config/plugins/delimitMate.vim

# - repo: puremourning/vimspector
#   hook_source: source $VIM_PATH/config/plugins/vimspector.vim
#   hook_add: |
#     let g:vimspector_enable_mappings = 'HUMAN'
# }}}

# Git{{{
- repo: lambdalisue/gina.vim
  on_cmd: Gina
  on_ft: [gitcommit, gitrebase]
  hook_source: source $VIM_PATH/config/plugins/gina.vim

- repo: rhysd/committia.vim
  on_event: BufReadPost
  hook_source: source $VIM_PATH/config/plugins/committia.vim

- repo: airblade/vim-gitgutter
  on_event: FileType
  hook_add: source $VIM_PATH/config/plugins/vim-gitgutter.vim

- repo: tyru/open-browser.vim
  hook_source: |
    let g:netrw_nogx = 1
    command! -nargs=1 Browse OpenBrowser <args>
# }}}

# Languages {{{

# Markdown
# ---------------------------------------
- repo: plasticboy/vim-markdown
  on_ft: markdown
  hook_add: source $VIM_PATH/config/plugins/vim-markdown.vim

- repo: iamcco/markdown-preview.nvim
  if: "has('nvim')"
  on_ft: [markdown, pandoc.markdown, rmd]
  build: 'sh -c "cd app && yarn install"'
  hook_add: source $VIM_PATH/config/plugins/markdown-preview.vim

- repo: mzlogin/vim-markdown-toc
  hook_add: source $VIM_PATH/config/plugins/vim-markdown-toc.vim
  on_ft: [markdown, vim, vimwiki]

# LaTeX
# ----------------------------------------
- repo: lervag/vimtex
  on_ft: tex
  hook_source: source $VIM_PATH/config/plugins/vimtex.vim
# }}}


# Tools{{{
# - { repo: itchyny/vim-gitbranch, on_event: FileType }
- { repo: romainl/vim-cool }

# To setup Google Calendar with calenar.vim
# https://github.com/itchyny/calendar.vim#important-notice
- repo: itchyny/calendar.vim
  on_cmd: Calendar
  hook_source: source $VIM_PATH/config/plugins/calendar.vim

- repo: junegunn/goyo.vim
  depends: Limelight.vim
  on_cmd: Goyo
  hook_source: source $VIM_PATH/config/plugins/goyo.vim

- repo: junegunn/Limelight.vim
  on_cmd: Limelight
  hook_source: source $VIM_PATH/config/plugins/limelight.vim

- repo: junegunn/fzf
  merged: 0
  on_cmd: FZF
  type__depth: 1
  hook_source: |
    let g:fzf_layout = { 'down': '~25%' }

- repo: junegunn/fzf.vim
  depends: fzf
  merged: 0
  on_cmd: [Files, GitFiles, Buffers, Lines, Locate, Colors, Ag, Rg, Tags]
  on_func: [fzf#vim#with_preview, fzf#run, vista#finder#fzf#Run]

# - repo: liuchengxu/vim-clap
#   merged: 0
#   build: call clap#installer#build_all()
#   on_map: { n: <Plug> }
#   on_func: [vista#finder#clap#Run]
#   hook_source: source $VIM_PATH/config/plugins/vim-clap.vim
# 
# - repo: hokorobi/vim-clap-sessions
#   depends: vim-clap
#   hook_add: |
#     let g:clap_session_dir = $DATA_PATH . '/session'

- repo: ludovicchabant/vim-gutentags
  if: "executable('ctags')"
  on_event: [BufReadPost, BufWritePost]
  hook_source: source $VIM_PATH/config/plugins/vim-gutentags.vim

- repo: liuchengxu/vista.vim
  on_cmd: Vista
  hook_source: source $VIM_PATH/config/plugins/vista.vim
    
- repo: preservim/tagbar
  on_cmd: [Tagbar, TabarOpen, TagbarToggle, TagbarOpenAutoClose]

- repo: airblade/vim-rooter
  on_event: FileType
  hook_add: source $VIM_PATH/config/plugins/vim-rooter.vim

- repo: benmills/vimux
  on_cmd: [VimuxPromptCommand, VimuxOpenRunner]

# Only load when in wiki directory
- repo: vimwiki/vimwiki
  rev: dev
  on_if: "(getcwd() =~ $HOME . '/Documents/wiki.*' && &filetype == 'markdown')"
  on_cmd: [VimwikIndex, VimwikiDiaryIndex, VimwikiUISelect]
  hook_source: source $VIM_PATH/config/plugins/vimwiki.vim

# Only load when in wiki diary sub directory
- repo: tbabej/taskwiki
  on_if: "(expand('%:p') =~ $HOME . '/Documents/wiki/wiki/md/diary/.*' && &filetype == 'vimwiki')"
  depends: vimwiki
  hook_source: source $VIM_PATH/config/plugins/taskwiki.vim

- repo: oberblastmeister/neuron.nvim
  rev: unstable
  hook_source: |
    luafile $VIM_PATH/config/plugins/neuron.lua

# - repo: pyrho/nerveux.nvim
#   hook_source: |
#     luafile $VIM_PATH/config/plugins/nerveux.lua

- repo: honza/dockerfile.vim
  on_ft: Dockerfile

- repo: thinca/vim-quickrun
  on_cmd: QuickRun
  hook_add: source $VIM_PATH/config/plugins/vim-quickrun.vim

- repo: kshenoy/vim-signature
  on_event: FileType
  hook_add: source $VIM_PATH/config/plugins/vim-signature.vim

- repo: tpope/vim-abolish
  on_event: FileType

- repo: joom/latex-unicoder.vim
  on_func: [unicoder#start, unicoder#selection]
  hook_source: |
    let g:unicoder_cancel_normal = 1
    let g:unicoder_cancel_insert = 1
    let g:unicoder_cancel_visual = 1

- repo: simnalamburt/vim-mundo
  on_map: {n: <Plug>}

- repo: tpope/vim-repeat
  on_map: .*

- repo: easymotion/vim-easymotion
  on_map: {n: <Plug>}
  hook_add: source $VIM_PATH/config/plugins/vim-easymotion.vim

- repo: brooth/far.vim
  on_cmd: [F, Far, Farr, Farf, Refar, Farundo]
  hook_add: source $VIM_PATH/config/plugins/far.vim

- repo: pechorin/any-jump.vim
  on_cmd: AnyJump
  hook_source: source $VIM_PATH/config/plugins/any-jump.vim
# }}}

# UI{{{
- repo: lukas-reineke/indent-blankline.nvim
  on_event: FileType
  hook_source: luafile $VIM_PATH/config/plugins/indent-blankline.lua

- repo: norcalli/nvim-colorizer.lua
  if: "has('nvim-0.5')"
  on_event: FileType
  hook_source: luafile $VIM_PATH/config/plugins/colorizer.lua

- repo: romainl/vim-qf
  on_ft: qf
  on_event: QuickFixCmdPost
  on_map: { n: <Plug> }
  hook_source: source $VIM_PATH/config/plugins/vim-qf.vim

- repo: rhysd/accelerated-jk
  on_map: { n: <Plug> }

- repo: kyazdani42/nvim-tree.lua
  if: "has('nvim-0.5')"
  on_cmd: [NvimTreeToggle, NvimTreeOpen, NvimTreeFindFile]
  hook_source: |
    source $VIM_PATH/config/plugins/nvim-tree.vim
    source $VIM_PATH/config/plugins/nvim-tree.lua

- repo: nvim-lua/popup.nvim
  if: "has('nvim-0.5')"
- repo: nvim-lua/plenary.nvim
  if: "has('nvim-0.5')"
- repo: nvim-telescope/telescope.nvim
  if: "has('nvim-0.5')"
  hook_source: luafile $VIM_PATH/config/plugins/telescope.lua

- repo: kyazdani42/nvim-web-devicons
  if: "has('nvim-0.5')"
# }}}

# ETC {{{
- repo: dstein64/vim-startuptime
  on_event: VimEnter

- repo:  ianding1/leetcode.vim
  on_cmd: [LeetCodeList, LeetCodeTest, LeetCodeSubmit, LeetCodeSignIn]
  hook_add: |
    let g:leetcode_browser = 'firefox'
    let g:leetcode_solution_filetype = 'java'
# }}}

- repo: nvim-treesitter/nvim-treesitter
  if: "has('nvim-0.5')"
  build: TSUpdate
  hook_source: luafile $VIM_PATH/config/plugins/nvim-treesitter.lua
- repo: nvim-treesitter/nvim-treesitter-textobjects
  if: "has('nvim-0.5')"

